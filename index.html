<!DOCTYPE html>
<html lang="ja"><head>
    <meta charset="utf-8">
    <title>(」・ω・)」うー!(/・ω・)/にゃー!encode</title>
    <style>
      * { line-height: 120%; }
      .page { width: 800px; margin: auto; }
      .desc { margin: 1em; }
      #src { width: 100%; height:6em; font-size:large; }
      #dst { width: 100%; height:12em; font-size:large; }
      #execute, #eval { font-size: large; }
      address { text-align:right; }
    </style>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" crossorigin="anonymous"></script>
    <script src="script.js"></script>
</head>
  <body>
  <div class="page">
<div>HTML code:</div>
   <div> <textarea id ="src1">alert("(」・ω・)」うー!(/・ω・)/にゃー!")</textarea></div>
    <div><textarea id="src">alert("(」・ω・)」うー!(/・ω・)/にゃー!")</textarea></div>
<input type="button" value="変換" onclick="clickBtn7()" />
      <input type="button" value="ダウンロード" onclick="clickBtn8()" />
    <script>
var escapeUnicode = function(str) {
    var code, pref = {1: '\\u000', 2: '\\u00', 3: '\\u0', 4: '\\u'};
    return str.replace(/\W/g, function(c) {
        return pref[(code = c.charCodeAt(0).toString(16)).length] + code;
    });
};
function clickBtn8() {
 
    const blob = new Blob([Uint8Array([0xEF, 0xBB, 0xBF],"\u003cscript\u003e" + document.getElementById("dst").value + "\u003c\u002fscript\u003e"], {type: 'text/plain'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement("a");
    document.body.appendChild(a);
    a.download = "index.html";
    a.href = url;
    a.click();
    a.remove();
    URL.revokeObjectURL(url);
 
}

function clickBtn7() {
var ta3 = document.getElementById("src1").value;
document.getElementById("src").value = "document.write(\""+escapeUnicode(ta3)+"\")";};
</script>
    <div style="text-align:center">
      <input id="execute" type="button" value="(」・ω・)」うー!(/・ω・)/にゃー!">
    </div>
    <div>(」・ω・)」うー!(/・ω・)/にゃー! code:</div>
    <div><textarea id="dst">"(ᒧᆞωᆞ)"</textarea></div>
    <div style="text-align:center">
      [<a id="eval" href="https://kaz-scripts.github.io/1/">eval</a>]
    </div>
  </div>
</body>
</html>
